!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("element-resize-detector")):"function"==typeof define&&define.amd?define(["exports","element-resize-detector"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).VueRenderlessCarousel={},e.elementResizeDetectorMaker)}(this,(function(e,t){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var n=i(t).default({strategy:"scroll"});function s(e,t,i,n,s,o,r,a,l,u){"boolean"!=typeof r&&(l=a,a=r,r=!1);var d,c="function"==typeof i?i.options:i;if(e&&e.render&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns,c._compiled=!0,s&&(c.functional=!0)),n&&(c._scopeId=n),o?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},c._ssrRegister=d):t&&(d=r?function(e){t.call(this,u(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),d)if(c.functional){var h=c.render;c.render=function(e,t){return d.call(t),h(e,t)}}else{var f=c.beforeCreate;c.beforeCreate=f?[].concat(f,d):[d]}return i}var o=s({},undefined,{name:"rl-carousel",props:{align:{type:String,default:"center",validator:function(e){return null!==e.match(/^(left|center|right)$/)}},animateIn:{type:Boolean,default:!1},noWrap:{type:Boolean,default:!1},static:{type:Boolean,default:!1},touchWrap:{type:Boolean,default:!1},transition:{type:String,default:"ease",validator:function(e){return null!==e.match(/^(ease|linear|ease-in|ease-out|ease-in-out|cubic-bezier\(.*\))$/)}},transitionTime:{type:[Number,String],default:.5},value:{type:Number,required:!0},vertical:{type:Boolean,default:!1}},data:function(){return{positioned:!1,slideSizes:[],carouselSize:0,clientSize:0,slideCount:0,mainAxisStart:void 0,mainAxisEnd:void 0,crossAxisStart:void 0,crossAxisEnd:void 0}},render:function(){return this.$scopedSlots.default({wrapperStyles:this.wrapperStyles,slides:{count:this.slideCount,active:this.value}})},computed:{wrapperStyles:function(){return{style:{display:"inline-flex","flex-wrap":(this.vertical?"":"no")+"wrap",transform:"translate"+(this.vertical?"Y":"X")+"("+-this.mainAxisTranslate+"px)",transition:this.transitionProperty}}},shouldAnimateIn:function(){return this.animateIn||this.positioned},mainAxisDragOffset:function(){return void 0===this.mainAxisStart||void 0===this.mainAxisEnd?0:this.mainAxisStart-this.mainAxisEnd},transitionProperty:function(){return void 0===this.mainAxisEnd&&this.animated&&this.shouldAnimateIn?"transform "+parseFloat(this.transitionTime)+"s "+this.transition:"all 0s"},mainAxisTranslate:function(){return this.accumulatedTranslate-this.offsetToAlignInView+this.mainAxisDragOffset},accumulatedTranslate:function(){return this.slideSizes.slice(0,this.value).reduce((function(e,t){return e+t}),0)},offsetToAlignInView:function(){switch(this.align){case"left":return 0;case"center":return this.carouselSize<this.clientSize?this.carouselSize/2-this.slideSizes[this.value]/2:(this.clientSize-this.slideSizes[this.value])/2;case"right":return this.clientSize-this.slideSizes[this.value]}},wrap:function(){return!this.noWrap},animated:function(){return!this.static}},methods:{recalculateDimensions:function(e){var t,i=this,n=function(e){return i.vertical?e.getBoundingClientRect().height:e.getBoundingClientRect().width},s=this.$children.filter((function(e){return"rl-carousel-slide"===e.$options.name}));this.slideCount=s.length,this.value>this.slideCount-1&&this.$emit("input",Math.max(this.slideCount-1,0)),this.clientSize=n(e),this.slideSizes.splice(0,this.slideSizes.length),s.length>0?((t=this.slideSizes).push.apply(t,s.map((function(e){return n(e.$el)}))),this.carouselSize=this.slideSizes.reduce((function(e,t){return e+t}),0)):this.carouselSize=0,this.$emit("size-calculated")}},watch:{value:function(e){e>=this.slideCount&&this.$emit("input",this.wrap?0:this.slideCount-1),e<0&&this.$emit("input",this.wrap?this.slideCount-1:0),this.$emit("slide-changed",this.value)}},mounted:function(){var e,t,i,s=this;this.recalculateDimensions(this.$el),n.listenTo(this.$el,(e=function(){s.$emit("resized"),s.recalculateDimensions(s.$el)},t=16,function(){for(var n=[],s=arguments.length;s--;)n[s]=arguments[s];clearTimeout(i),i=setTimeout((function(){return e.apply(void 0,n)}),t)})),this.touchstart=function(e){s.$emit("touchstart"),s.mainAxisStart=Math.floor(e.touches[0]["client"+(s.vertical?"Y":"X")]),s.crossAxisStart=Math.floor(e.touches[0]["client"+(s.vertical?"X":"Y")])},this.touchmove=function(e){s.$emit("touchmove"),s.mainAxisEnd=Math.floor(e.touches[0]["client"+(s.vertical?"Y":"X")]),s.crossAxisEnd=Math.floor(e.touches[0]["client"+(s.vertical?"X":"Y")]);var t=Math.atan2(s.mainAxisEnd-s.mainAxisStart,s.crossAxisEnd-s.crossAxisStart)*(180/Math.PI);(t>-135&&t<-45||t>45&&t<135)&&e.preventDefault()},this.touchend=function(){s.$emit("touchend"),void 0!==s.mainAxisEnd?(s.$emit("swipe-recognized"),Math.abs(s.mainAxisDragOffset)/s.slideSizes[s.value]*100>=20&&(s.mainAxisDragOffset<0&&(s.value>0||s.touchWrap)?s.$emit("input",s.value-1):s.mainAxisDragOffset>0&&(s.value<s.slideCount-1||s.touchWrap)&&s.$emit("input",s.value+1)),s.mainAxisStart=void 0,s.mainAxisEnd=void 0,s.crossAxisStart=void 0,s.crossAxisEnd=void 0):s.mainAxisStart=void 0},this.$el.addEventListener("touchstart",this.touchstart),this.$el.addEventListener("touchmove",this.touchmove),this.$el.addEventListener("touchend",this.touchend),this.childNodeObserver=new MutationObserver((function(){s.$emit("slide-count-changed"),s.recalculateDimensions(s.$el)})),this.childNodeObserver.observe(this.$el,{childList:!0,subtree:!0}),setTimeout((function(){s.positioned=!0,s.$emit("positioned")}),16)},beforeDestroy:function(){this.$emit("before-destroy"),n.removeAllListeners(this.$el),this.$el.removeEventListener("touchstart",this.touchstart),this.$el.removeEventListener("touchmove",this.touchmove),this.$el.removeEventListener("touchend",this.touchend),this.childNodeObserver.disconnect()}},undefined,undefined,undefined,!1,void 0,void 0,void 0),r=s({},undefined,{name:"rl-carousel-slide",render:function(e){return e("div",{style:{"flex-shrink":0}},this.$slots.default)}},undefined,undefined,undefined,!1,void 0,void 0,void 0);e.RlCarousel=o,e.RlCarouselSlide=r,Object.defineProperty(e,"__esModule",{value:!0})}));
